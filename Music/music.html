<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUSIC PLAYER</title>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    
<div class="main_div">
    <div class="music_container">
        <h2 id="title">Saanson ko </h2>
        <h3 id="artist">Arijit Singh</h3>

        <div class="img_container">
            <img src="images/anmol-1.jpg" alt="">
        </div>
        <audio src="music/anmol-1.mp3"></audio>
 
        <div class="music_controls">
            <i class="fa fa-backward" aria-hidden="true" id="prev" title="previous"></i>
            <i class="fa fa-play main_button" aria-hidden="true" id="play" title="play"></i>
            <i class="fa fa-forward" aria-hidden="true" id="next" title="next"></i>
        </div>
    </div>
</div>


<script>
    const music= document.querySelector("audio");
    const play = document.getElementById("play");
    const img = document.querySelector("img");
    const artist = document.getElementById("artist");
    const title = document.getElementById("title");
    const prev = document.getElementById("prev");
    const next = document.getElementById("next");

    const songs = [
        {
        name:"anmol-1",
        title: "Saanson ko",
        artist:"Arijit Singh",
    },
    {
        name:"anmol-2",
        title: "Baarish",
        artist:"Ash King, Sashaa",
    },
    {
        name:"anmol-3",
        title: "Daru Badnaam",
        artist:"Kamal & Param",
    }];

    let isPlaying = false;

    const playMusic = ()=>{
        music.play();
        isPlaying=true;
        play.classList.replace("fa-play","fa-pause");
        img.classList.add("anime");
    };

    const pauseMusic = ()=>{
        music.pause();
        isPlaying=false;
        play.classList.replace("fa-pause","fa-play");
        img.classList.remove("anime");
    };

    play.addEventListener('click', ()=>{
        isPlaying ? pauseMusic() : playMusic();
    });

    const loadSong = (songs) => {
        title.textContent = songs.title;
        artist.textContent = songs.artist;
        music.src="music/" + songs.name + ".mp3";
        img.src = "images/" + songs.name + ".jpg";
    }

    songIndex = 0;
    //loadSong(songs[1]);
    const nextSong = () =>{
        songIndex=(songIndex + 1)% songs.length;
        loadSong(songs[songIndex]);
        playMusic();
    }
    const prevSong = () => {
        songIndex=(songIndex - 1 + songs.length) %songs.length;
        loadSong(songs[songIndex]);
        playMusic();
    }

    next.addEventListener('click',nextSong);
    
    prev.addEventListener('click',prevSong);
</script>
</body>
</html>